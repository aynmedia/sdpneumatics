---
import { getCollection } from 'astro:content';
import MainLayout from '../../layout/Layout.astro';
import { Image } from 'astro:assets';

export async function getStaticPaths() {
  const services = await getCollection('services');
  return services.map((service) => ({
    params: { slug: service.slug },
    props: { service },
  }));
}

const { service } = Astro.props;

const { Content } = await service.render();
---

<MainLayout title={service.data.title}>
  <div class='relative w-full h-[400px] overflow-hidden'>
    <Image
      src={`/images/services/${service.data.image}`}
      alt={service.data.title}
      width={2000}
      height={400}
      class='object-cover'
    />
    <div
      class='absolute flex justify-center items-center top-0 left-0 w-full h-full text-white bg-slate-900/50 z-10'>
      <h1 class='text-4xl font-bold'>{service.data.title}</h1>
    </div>
  </div>
  <div class='flex flex-col max-w-5xl md:mx-auto mx-6 px-4 py-12 gap-6'>
    <div>
      <Content />
    </div>
  </div>
</MainLayout>

<style is:global>
  p {
    margin: 2px 0;
  }
  h3 {
    margin: 20px 0;
    font-size: 2rem;
  }
</style>
